<!DOCTYPE html>
<html lang="en">
<head>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-WWDGXLW');</script>
            <!-- End Google Tag Manager -->
            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-X7W2CCYMWY"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-X7W2CCYMWY');
            </script>
    <link rel="shortcut icon" href="favicon1.ico">
    <title>idle file</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Arvo&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel="stylesheet"> 
    <noscript>Sorry, but you cannot play this game because you either have JavaScript disabled or your browser dosen't support JavaScript.</noscript>
</head>
<style>
    @font-face {
        font-family: 'Arvo', serif;
        src: url(https://fonts.googleapis.com/css2?family=Arvo&display=swap);
    }
    body {
        font-family: 'Lato', sans-serif;
    }
    h1 {
        text-align: center;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        text-shadow: 2px 2px 5px black;
        transition-duration: 0.6s;
    }
    h2 {
        text-align: center;
        font-family: 'Arvo', serif;
    }
    h3 {
        font-family: 'Arvo', serif;
    }
    button {
        transition-duration: 0.4s;
        cursor: pointer;
        color: white;
        background-color: rgb(0, 0, 0);
        border: 0px solid black;
        padding: 10px 15px;
        text-align: center;
        font-size: 12px;
        border-radius: 5px;
    }
    button:hover {
        box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
        border-radius: 10px;
    }
    button:active {
        border-radius: 20px;
    }
    .tooltip {
        position: relative;
        display: inline-block;
    }
    .tooltip .tooltiptext {
        visibility: hidden;
        width: 120px;
        background-color: black;
        color: white;
        text-align: center;
        padding: 5px 0;
        border-radius: 6px;
        position: absolute;
        z-index: 1;
    }
    .tooltip:hover .tooltiptext {
        visibility: visible;
    }
    .tablink {
        background-color: rgb(53, 53, 53);
        color: white;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 0px 0px;
        font-size: 0px;
        width: 33.333%;
        border-radius: 0px;
        display: none;
    }
    .dropbtn {
        background-color: black;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        width: 100%;
    }  
    .dropbtn:hover, .dropbtn:focus {
        background-color: #2980B9;
    }  
    .dropdown {
        position: relative;
        display: block;
    }  
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: white;
        min-width: 160px;
        overflow: auto;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }  
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }  
    .dropdown a:hover {background-color: #ddd;}
    .show {display: block;}
    .alertbar {
        height: 30px;
        overflow: hidden;
        position: relative;
        background-color: black;
    }
    .alertbar p {
        position: absolute;
        color: white;
        width: 100%;
        height: 100%;
        margin: 0;
        text-align: center;
        transform:translateX(100%);
        animation: textscroll 15s linear infinite;
    }
    .upgradebutton {
        background-color: rgb(255, 0, 0);
        color: black;
        display: none;
    }
    @media only screen and (min-width: 950px) {
        .tablink {
            visibility: visible;
            background-color: rgb(0, 0, 0);
            color: white;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            font-size: 17px;
            width: 33.333%;
            border-radius: 0px;
            display: block;
        }
        .dropdown {
            display: none;
            padding: 0px 0px;
            width: 0%;
            height: 0%;
        }
    }
    .explaintext {
        display: none;
    }
    .tablink:hover {
        background-color: rgb(39, 39, 39);
        border-radius: 0px;
    }
    .tabcontent {
        padding: 40px 20px;
        height: 100%;
    }
    .tooltip .tooltiptext {
        visibility: hidden;
        width: 200px;
        background-color: grey;
        color: #fff;
        text-align: center;
        padding: 5px 5px;
        border-radius: 2px;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -100px;
        opacity: 0;
        transition: 0.3s;
    }
    .tooltip .tooltiptext::after {
        content: "";
        position: absolute;
        top: 95%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: grey transparent transparent transparent;
        transition: 0.3s;
    }
    .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
        border-radius: 15px;
        padding: 10px 10px;
    }
    .tooltip:hover .tooltiptext::after {
        margin-left: 0px;
        top: 100%
    }
    .cookiesmessage {
        position: fixed;
        bottom: 35px;
        right: 20px;
        margin-left: 20px;
        max-width: 300px;
    }
    .cookiesmessage-header {
        padding: 25px 15px;
        background: grey;
        font-size: 30px;
        color: white;
    }
    .cookiesmessage-container {
        padding: 15px;
        background-color: #ccc;
        color: black;
    }
    .closecookiesmessage {
        position: absolute;
        top: 5px;
        right: 15px;
        color: white;
        font-size: 30px;
        cursor: pointer;
    }
    .awardcard {
        outline: 2px solid grey;
        border-radius: 5px;
        width: 100%;
    }
    .awardBar {
        width: 1%;
        height: 30px;
        background-color: green;
        border-radius: 5px;
    }
    .awardBarProgress {
        width: 100%;
        background-color: grey;
    }
    .paddedtext {
        padding: 3px 3px;
    }
    #thealertbar {
        display: none;
    }
    #score {
        text-align: center;
        font-size: 25px;
        font-family: 'Arvo', serif;
    }
    #bpscounter {
        text-align: center;
    }
    #singlebytebutton {
        background-color: rgb(0, 255, 64);
        border: 10px solid rgb(0, 255, 64);
        color: black;
        padding: 20px 35px;
        text-align: center;
        font-size: 30px;
        border-radius: 10px;
        transition-duration: 0.4s;
        margin: auto;
        width: 100%;
        transition-timing-function: ease;
        animation-name: typebuttonwelcome;
        animation-duration: 1s;
    }
    #darkmodebutton {
        transition-duration: 1.0s;
        cursor: pointer;
        background-color: rgb(0, 0, 0);
        color: white;
        padding: 10px 15px;
        text-align: center;
        font-size: 12px;
        border-radius: 5px;
    }
    #singlebytebutton:hover {
        background-color: rgb(87, 255, 224);
        border: 10px solid rgb(87, 255, 224);
        color: black;
        border-radius: 30px;
        padding: 30px 45px;
    }
    #singlebytebutton:active {
        background-color: rgb(0, 255, 166);
        border: 10px solid rgb(0, 255, 166);
    }
    #snackbar {
        visibility: hidden;
        min-width: 250px;
        margin-left: -125px;
        background-color: black;
        color: white;
        text-align: center;
        border-radius: 2px;
        padding: 16px;
        position: fixed;
        z-index: 1;
        left: 50%;
        bottom: 30px;
        font-size: 17px;
        transition-duration: 0.5s;
    }
    #snackbar.show {
        visibility: visible;
        opacity: 1;
        border-radius: 15px;
    }
    #snackbar.hide {
        visibility: hidden;
        opacity: 0;
        border-radius: 2px;
        min-width: 250px;
    }
    #cookiespopup {
        visibility: hidden;
    }
    #welcometext {
        animation-name: rainbow;
        animation-duration: 10s;
        animation-iteration-count: infinite;
        text-shadow: 2px 2px 5px black;
    }
    #autnav {
        border-radius: 15px 0px 0px 15px;
    }
    #setnav {
        border-radius: 0px 15px 15px 0px;
    }
    #topbar {
        background-color: black;
        position: fixed;
        top: -50px;
        width: 100%;
        display: block;
        transition: top 0.3s;
        border-radius: 0px 0px 15px 15px;
    }
    #topbar a {
        float: right;
        display: block;
        color: white;
        text-align: center;
        padding: 15px;
        text-decoration: none;
        font-size: 17px;
        font-family: 'Arvo', serif;
    }
    #ontoptypebutton {
        cursor: pointer;
        background-color: rgb(0, 255, 64);
        color: black;
    }
    @keyframes textscroll {
        0%   { 
            -moz-transform: translateX(100%); /* Firefox bug fix */
            -webkit-transform: translateX(100%); /* Firefox bug fix */
            transform: translateX(100%); 
        }
        100% { 
            -moz-transform: translateX(-100%); /* Firefox bug fix */
            -webkit-transform: translateX(-100%); /* Firefox bug fix */
            transform: translateX(-100%); 
        }
    }   
    @keyframes rainbow {
        0% {color: rgb(255, 0, 0);}
        20% {color: rgb(255, 255, 0);}
        40% {color: rgb(173, 255, 50);}
        60% {color: rgb(0, 0, 255);}
        80% {color: rgb(128, 0, 255);}
        100% {color: rgb(255, 0, 0);}
    }
    @keyframes typebuttonwelcome {
        0% {transform: rotateZ(4deg);}
        100% {transform: rotateZ(0deg);}
    }
    @keyframes shake {
        0% { transform: translate(1px, 1px) rotate(0deg); }
        10% { transform: translate(-1px, -2px) rotate(-1deg); }
        20% { transform: translate(-3px, 0px) rotate(1deg); }
        30% { transform: translate(3px, 2px) rotate(0deg); }
        40% { transform: translate(1px, -1px) rotate(1deg); }
        50% { transform: translate(-1px, 2px) rotate(-1deg); }
        60% { transform: translate(-3px, 1px) rotate(0deg); }
        70% { transform: translate(3px, 1px) rotate(-1deg); }
        80% { transform: translate(-1px, -1px) rotate(1deg); }
        90% { transform: translate(1px, 2px) rotate(0deg); }
        100% { transform: translate(1px, -2px) rotate(-1deg); }
    }
    @keyframes snackfadein {
        from {bottom: 0; opacity: 0;}
        to {bottom: 30px; opacity: 1;}
    }
    @keyframes snackfadeout {
        from {bottom: 30px; opacity: 1;} 
        to {bottom: 0; opacity: 0;}
    }
    /* Mobile mode */
    .mobile-mode .explaintext{
        display: inline-block;
    }
    /* Dark mode */
    .dark-mode {
        background-color: black;
        color: white;
    }
    .dark-mode button {
        background-color: white;
        color: black;
    }
    .dark-mode .scorehead {
        color: white;
        background-color: black;
    }
    .dark-mode .dropbtn {
        background-color: white;
        color: black;
    }
    .dark-mode #topbar {
        background-color: white;
    }
    .dark-mode #topbar a {
        color: black;
    }
    .dark-mode .tablink {
        background-color: white;
        color: black;
    }
    .dark-mode .tablink:hover {
        background-color: rgb(218, 218, 218);
    }
</style>
<body>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WWDGXLW"
            height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
            <!-- End Google Tag Manager (noscript) -->
    <!-- hi this is a game made by wiichicken please dont steal my code even though nobody will see this and my code sucks anyways -->
    <div id="topbar">
        <a id="ontopsize" style="float: left;">0 bytes</a>
        <a id="ontopsps" style="float: left; font-size: small; vertical-align: middle;">0 bytes per second</a>
        <a id="ontoptypebutton" style="color: black; -moz-user-select: none; -webkit-user-select: none; user-select: none;" onclick="oneByte()">Type</a>
    </div>
    <div class="scorehead">
        <p id="score">0 bytes</p>
        <p id="bpscounter">0 bytes per second</p>
        <div class="alertbar" id="thealertbar">
            <p id="alertbartext">testing lol</p>
        </div>
    </div>
    <button id="singlebytebutton" onclick="oneByte()">Type</button>
    <hr>
    <div class="dropdown">
        <button onclick="openMobileNavigation()" class="dropbtn">Navigation</button>
        <div id="mobilenavdropdown" class="dropdown-content">
            <a onclick="openPage('upspage')">Upgrades</a>
            <a onclick="openStatsPage()">Statistics</a>
            <a onclick="openPage('settings')">Settings</a>
        </div>
    </div>
    <button class="tablink" id="autnav" onclick="openPage('upspage')">Upgrades</button>
    <button class="tablink" id="stanav" onclick="openStatsPage()">Statistics</button>
    <button class="tablink" id="setnav" onclick="openPage('settings')">Settings</button>

    <div id="upspage" class="tabcontent">
        <h2>Automatic Upgrades</h2>
        <p style="text-align: center;">These upgrades increase your file size automatically</p>
        <hr>
        <button id="keypresser" class="upgradebutton" style="display: inline;" onclick="upgradeSPS()">Keypresser (15 bytes, +1 byte per second)</button>
        <button id="catbuy" class="upgradebutton" onclick="buyCat()">Cat (150 bytes, 5+ bytes per second)</button>
        <button id="holdbuy" class="upgradebutton" onclick="buyHold()">Key Holder (1 KB, +30 bytes per second)</button>
        <button id="macrobuy" class="upgradebutton" onclick="buyWordMacro()">Word Macro (50 KB, +250 bytes per second)</button>
        <button id="collabuy" class="upgradebutton" onclick="buyCollab()">Collab Document (1 MB, +5 KB per second)</button>

        <h2>Clicking Upgrades</h2>
        <p style="text-align: center;">These upgrades increase your file size even more per click</p>
        <hr>
        <button id="fingerpurchase" class="upgradebutton" style="display: inline;" onclick="buyFinger()">Extra Finger (500 bytes, +1 byte per click)</button>
        <button id="keyboardpurchase" class="upgradebutton" onclick="buyKeyboard()">Extra Keyboard (10 KB, +40 bytes per click)</button>
        <button id="macrobutpurchase" class="upgradebutton" onclick="buyMacroButton()">Macro Button (150 KB, +500 bytes per click)</button>
        <button id="copypastepurchase" class="upgradebutton" onclick="buyCopyPaste()">Copy Paste (30 MB, +10 KB per click)</button>

        <h2>More Upgrades</h2>
        <p style="text-align: center;">Hover over an upgrade for more information</p>
        <hr>
        <div class="tooltip" id="aiupgradediv">
            <button id="aiupgradebutton" onclick="buyBadAi()">600 seconds remaining!</button>
            <span class="tooltiptext">Increases your bytes per second by 1 every second</span>
            <p class="explaintext">Increases your bytes per second by 1 every second</p>
        </div>
        <div class="tooltip" id="selfsusmach">
            <button id="selfsusmachine" onclick="buySelfSustainedMachine()">1500 clicks remaining!</button>
            <span class="tooltiptext">Increases your bytes per second by 1 for every click</span>
            <p class="explaintext">Increases your bytes per second by 1 for every click</p>
        </div>
        <div class="tooltip" id="plasticursor">
            <button id="purchaseplasticursor" onclick="buyPlasticCursor()">1000 bps remaining!</button>
            <span class="tooltiptext">Clicking gains 1% of your bytes per second</span>
            <p class="explaintext">Clicking gains 1% of your bytes per second</p>
        </div>
    </div>

    <div id="settings" class="tabcontent">
        <h2>Settings</h2>
        <p style="text-align: center;">Customize your game experience</p>
        <hr>
        <h3>Save data</h3>
        <p>Warning: This feature has not been fully implemented. It may not work as expected, and not everything may be saved. Clearing your browser cookies will remove this data, so be careful!</p>
        <div class="tooltip">
            <button id="savebutton" onclick="saveGame()">Save (WIP)</button>
            <span class="tooltiptext">Any previous game data will be overwritten.</span>
        </div>
        <p class="explaintext">Any previous game data will be overwritten.</p>
        <div class="tooltip">
            <button id="loadbutton" onclick="loadGame()">LOAD (WIP)</button>
            <span class="tooltiptext">Your current save data will be overwritten.</span>
        </div>
        <p class="explaintext">Your current save data will be overwritten.</p>
        <h3>Appearance</h3>
        <button id="darkmodebutton" onclick="toggleDarkMode()">Enable Dark Mode</button>
        <div class="tooltip">
            <button id="doroundisplay" onclick="modeToggle('roundmaindisp')" style="background-color: greenyellow; color: black">Disable Score Rounding</button>
            <span class="tooltiptext">Toggles rounding your byte count.</span>
        </div>
        <p class="explaintext">Toggles rounding your byte count.</p>
        <div class="tooltip">
            <button id="doroundbytespersec" onclick="modeToggle('roundbpsdisp')" style="background-color: greenyellow; color: black;">Disable BPS Rounding</button>
            <span class="tooltiptext">Toggles rounding your bytes per second count.</span>
        </div>
        <p class="explaintext">Toggles rounding your bytes per second count.</p>
        <div class="tooltip">
            <button id="iscoremonospaced" onclick="toggleMonospaceFont()">Enable Monospaced Font</button>
            <span class="tooltiptext">Uses a monospaced font to reduce motion.</span>
        </div>
        <p class="explaintext">Uses a monospaced font to reduce motion.</p>
        <h3>Other</h3>
        <button id="defaultOpen" onclick="openPage('tutorial')" style="background-color: cyan; color: black;">View tutorial</button>
    </div>

    <div id="tutorial" class="tabcontent">
        <h2 id="welcometext">Welcome to Idle File!</h2>
        <p id="clickonbuttontext" style="text-align: center;">Click on the large "Type" button to get bytes.</p>
        <p id="howtospendtext" style="text-align: center;">You can spend your bytes on upgrades to help you earn bytes faster.</p>
        <p id="viewupgradestext" style="text-align: center;">You can view different upgrade types by using the menus.</p>
        <p id="changesettingstext" style="text-align: center;">Change your settings in the settings menu to customize your experience.</p>
        <p id="viewtutorialagaintext" style="text-align: center;">You can view this tutorial again from the settings menu.</p>
        <p id="havefuntext" style="text-align: center;">Have fun playing!</p>
    </div>

    <div id="statistics" class="tabcontent">
        <h2>Statistics</h2>
        <p style="text-align: center;">View your gameplay statistics</p>
        <hr>
        <p>All statistics are updated when this page is opened.</p>
        <p id="timeplayedcounter">Time played: 0 seconds</p>
        <h3>Clicking</h3>
        <p id="clickcountstat">Total clicks: 0</p>
        <p id="sizeperclickstat">Size per click: 0 bytes</p>
        <p id="sizefromclicking">Size from clicking: 0 bytes</p>
        <h3>Upgrades</h3>
        <p id="upgradesboughtcount">Upgrades bought: 0</p>
        <p id="autoupgradesboughtcount">Automatic upgrades bought: 0</p>
        <p id="clickingupgradesboughtcount">Clicking upgrades bought: 0</p>
        <p id="spentonupscount">Spent on upgrades: 0 bytes</p>
        <p id="spentonautoupscount">Spent on automatic upgrades: 0 bytes</p>
        <p id="spentonclickupscount">Spent on click upgrades: 0 bytes</p>
        <hr>
        <h2>Awards</h2>
        <p style="text-align: center;">View your award collection</p>
        <hr>
        <div class="awardcard">
            <h3 class="paddedtext" id="clickerawardtitle">Clicker: Level 0</h3>
            <p class="paddedtext" id="clickerawardtext">Click 100 times</p>
            <div class="awardBarProgress">
                <div class="awardBar" id="clickrewardbar"></div>
            </div>
        </div>
        <div class="awardcard">
            <h3 class="paddedtext" id="factoryawardtitle">Factory: Level 0</h3>
            <p class="paddedtext" id="factoryawardtext">Reach 1 byte per second.</p>
            <div class="awardBarProgress">
                <div class="awardBar" id="factoryawardbar"></div>
            </div>
        </div>
    </div>

    <div class="cookiesmessage" id="cookiespopup">
        <div class="cookiesmessage-header">COOKIES WOOO!</div>
        <span class="closecookiesmessage" onclick="closeCookiesPopup()">x</span>
        <div class="cookiesmessage-container">
            <p>this uses cookies i guess.</p>
        </div>
    </div>
    <div id="snackbar">Message</div>
    <script>
        let size = 0;
        let sps = 0;
        let extraspsps = 0;
        let clickbonus = 0;
        let spc = 1;
        let scoredisp = 0;
        let newcost = 0;
        let newdisp = 0;
        let shownsize = 0;
        let newerdisp = 0;
        let clickcount = 0;
        let playedseconds = 0;
        let clicksbonus = 0;
        let addedclicks = 1;
        let files = 0;
        let folders = 0;
        let harddrives = 0;
        let ismobile = 0;
        // Detects if you are using a mobile device. Taken from https://stackoverflow.com/questions/11013778/a-check-in-javascript-that-returns-whether-i-am-on-a-smartphone?noredirect=1&lq=1
        if( navigator.userAgent.match(/Android/i)
        || navigator.userAgent.match(/webOS/i)
        || navigator.userAgent.match(/iPhone/i)
        || navigator.userAgent.match(/iPad/i)
        || navigator.userAgent.match(/iPod/i)
        || navigator.userAgent.match(/BlackBerry/i)
        ){
            // Enables mobile mode if you are using a mobile device
            ismobile = 1;
            var entiredocument = document.body;
            entiredocument.classList.toggle("mobile-mode");
        }
        console.log(ismobile);
        // When using the sleep command in a function you must use async or else it won't work!
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        // Generates a random integer from a minimum and maximum value
        function randInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1) ) + min;
        }
        // Rounds a number into a file size format. Has different priority modes, can also add zeroes (to prevent motion)
        function roundSizeDisp(currentDisp, priorityMode, addZeroes) {
            if (currentDisp === 1) {
                newerdisp = '1 byte';
            }
            else {
                if (currentDisp >= 1000) {
                    if (currentDisp >= 1000000) {
                        if (currentDisp >= 1000000000) {
                            if (currentDisp >= 1000000000000) {
                                // TB
                                newerdisp = currentDisp / 1000000000;
                                newerdisp = Math.round(newerdisp);
                                newerdisp = newerdisp / 1000;
                                if (addZeroes === 1) {
                                    newerdisp = addTheZeroes(newerdisp);
                                }
                                newerdisp = `${newerdisp} TB`;
                            }
                            else {
                                // GB
                                newerdisp = currentDisp / 1000000;
                                newerdisp = Math.round(newerdisp);
                                newerdisp = newerdisp / 1000;
                                if (addZeroes === 1) {
                                    newerdisp = addTheZeroes(newerdisp);
                                }
                                newerdisp = `${newerdisp} GB`;
                            }
                        }
                        else {
                            // MB
                            newerdisp = currentDisp / 1000;
                            newerdisp = Math.round(newerdisp);
                            newerdisp = newerdisp / 1000;
                            if (addZeroes === 1) {
                                newerdisp = addTheZeroes(newerdisp);
                            }
                            newerdisp = `${newerdisp} MB`;
                        }
                    }
                    else {
                        // KB
                        newerdisp = Math.round(currentDisp);
                        newerdisp = newerdisp / 1000;
                        if (addZeroes === 1) {
                            newerdisp = addTheZeroes(newerdisp);
                        }
                        newerdisp = `${newerdisp} KB`;
                    }
                }
                else {
                    // Bytes
                    newerdisp = Math.round(currentDisp);
                    newerdisp = `${newerdisp} bytes`;
                }
            }
            if (priorityMode === 'n') {
                newdisp = newerdisp;
            }
            else if (priorityMode === 's') {
                document.getElementById("bpscounter").innerHTML = newerdisp + " per second";
                document.getElementById("ontopsps").innerHTML = newerdisp + " per second";
            }
            else if (priorityMode === 'm') {
                document.getElementById("score").innerHTML = newerdisp;
                document.getElementById("ontopsize").innerHTML = newerdisp;
            }
            else if (priorityMode === "title") {
                document.querySelector("title").textContent = `${newerdisp} - idle file`;
            }
        }
        // Rounds variables to different non byte displays (like thousands, millions)
        function roundDisp(currentDisp, priorityMode, addZeroes) {
            if (currentDisp >= 1000) {
                if (currentDisp >= 1000000) {
                    if (currentDisp >= 1000000000) {
                        if (currentDisp >= 1000000000000) {
                            // Trillions
                            newerdisp = currentDisp / 1000000000;
                            newerdisp = Math.round(newerdisp);
                            newerdisp = newerdisp / 1000;
                            if (addZeroes === 1) {
                                newerdisp = addTheZeroes(newerdisp);
                            }
                            newerdisp = `${newerdisp} T`;
                        }
                        else {
                            // Billions
                            newerdisp = currentDisp / 1000000;
                            newerdisp = Math.round(newerdisp);
                            newerdisp = newerdisp / 1000;
                            if (addZeroes === 1) {
                                newerdisp = addTheZeroes(newerdisp);
                            }
                            newerdisp = `${newerdisp} B`;
                        }
                    }
                    else {
                        // Millions
                        newerdisp = currentDisp / 1000;
                        newerdisp = Math.round(newerdisp);
                        newerdisp = newerdisp / 1000;
                        if (addZeroes === 1) {
                            newerdisp = addTheZeroes(newerdisp);
                        }
                        newerdisp = `${newerdisp} M`;
                    }
                }
                else {
                    // Thousands
                    newerdisp = Math.round(currentDisp);
                    newerdisp = addCommasToNumber(newerdisp);
                }
            }
            else {
                // Ones
                newerdisp = currentDisp
            }
            if (priorityMode === 'n') {
                newdisp = newerdisp;
            }
            else if (priorityMode === 's') {
                document.getElementById("bpscounter").innerHTML = newerdisp + " per second";
                document.getElementById("ontopsps").innerHTML = newerdisp + " per second";
            }
            else if (priorityMode === 'm') {
                document.getElementById("score").innerHTML = newerdisp;
                document.getElementById("ontopsize").innerHTML = newerdisp;
            }
            else if (priorityMode === "title") {
                document.querySelector("title").textContent = `${newerdisp} - idle file`;
            }
        }
        // Adds zeroes to the end of rounded displays (if requested) to prevent motion
        // TODO: Work on making this code much better. It currently sucks and probably has a bunch of bugs
        function addTheZeroes(addingVariable) {
            const varstring = addingVariable.toString();
            let stringpos = 1;
            let roundstring = Math.floor(addingVariable);
            roundstring = roundstring.toString();
            let updatedstring = varstring.charAt(0);
            // Recreates the variable digit by digit
            // I don't think this actually does anything useful, may remove it
            while (stringpos < 2) {
                updatedstring = updatedstring + varstring.charAt(stringpos);
                stringpos++;
            }
            while (stringpos < varstring.length) {
                updatedstring = updatedstring + varstring.charAt(stringpos);
                stringpos++;
            }
            const usl = updatedstring.length;
            const rsl = roundstring.length;
            const loststring = usl - rsl;
            // Adds extra zeroes to the end depending on if it needs them
            if (loststring === 0) {
                updatedstring = updatedstring + ".000";
            }
            else if (loststring === 1) {
                updatedstring = updatedstring + "000";
            }
            else if (loststring === 2) {
                updatedstring = updatedstring + "00";
            }
            else if (loststring === 3) {
                updatedstring = updatedstring + "0";
            }
            return updatedstring.toString();
        }
        // Adds commas to a number to make it more readable. Taken from StackOverflow (https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript)
        function addCommasToNumber(addingVariable) {
            return addingVariable.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        let doRoundDisplay = 1;
        let doRoundTopDisplay = 1;
        // Updates the size counter and title of the page
        function refreshSize() {
            if (doRoundDisplay === 1) {
                shownsize = Math.round(size);
                roundSizeDisp(shownsize, 'm', 1);
                const showncommas = addCommasToNumber(shownsize);
                document.getElementById("score").title = `${showncommas} bytes`;
            }
            else {
                shownsize = Math.round(size);
                shownsize = addCommasToNumber(shownsize);
                document.getElementById("score").title = "";
                document.getElementById("score").innerHTML = `${shownsize} bytes`;
                document.getElementById("ontopsize").innerHTML = `${shownsize} bytes`;
            }
        }
        let doRoundBPSDisplay = 1;
        // Updates the bytes per second display
        function refreshBPS() {
            if (doRoundBPSDisplay === 1) {
                roundSizeDisp(sps, 's', 1);
                const shownsps = addCommasToNumber(sps);
                document.getElementById("bpscounter").title = `${shownsps} bytes per second`;
            }
            else {
                const shownsps = addCommasToNumber(sps);
                document.getElementById("bpscounter").innerHTML = `${shownsps} bytes per second`;
                document.getElementById("bpscounter").title = `${shownsps} bytes per second`;
            }
            checkBuildLevel();
        }
        // A base for refreshing displays on special buttons
        function refreshSpecialModel(pointVariable, pointReq, ElementIdent, lockedend, unlockedtext) {
            if (pointVariable >= pointReq) {
                document.getElementById(ElementIdent).innerHTML = unlockedtext;
            }
            else {
                const subtractending = pointReq - pointVariable;
                document.getElementById(ElementIdent).innerHTML = subtractending + lockedend;
            }
        }
        // Checks to see if something was unlocked, and displays a snackbar if it was
        function checkSpecial(pointVariable, pointReq, isUnlockedVar, unlockMessage, displayTime) {
            if (isUnlockedVar === 0) {
                if (pointVariable >= pointReq) {
                    displaySnackbar(displayTime, unlockMessage);
                    return 1;
                }
                else {
                    return 0;
                }
            }
            else {
                return 1;
            }
        }
        let selfsusunlocked = 0;
        let badaiunlocked = 0;
        let plasticcursorunlocked = 0;
        // Refreshes the display for special buttons
        function refreshSpecial() {
            refreshSpecialModel(clickcount, 1500, "selfsusmachine", " clicks remaining!", "Self Sustained Machine (10 MB)");
            selfsusunlocked = checkSpecial(clickcount, 1500, selfsusunlocked, "Self sustained machine unlocked!", 10000);
            refreshSpecialModel(playedseconds, 600, "aiupgradebutton", " seconds remaining!", "Bad AI (10 MB)");
            badaiunlocked = checkSpecial(playedseconds, 600, badaiunlocked, "Bad AI unlocked!", 10000);
            refreshSpecialModel(sps, 1000, "purchaseplasticursor", " bps remaining!", "Plastic Cursor (1 MB)");
            plasticcursorunlocked = checkSpecial(sps, 1000, plasticcursorunlocked, "Unlocked plastic cursor!", 10000);
        }
        // Refreshes all displays
        function refreshAll() {
            refreshSize();
            refreshBPS();
            refreshSpecial();
        }
        function changeObjectColor(coloredObject, theColor, theTextColor) {
            document.getElementById(coloredObject).style.backgroundColor = theColor;
            document.getElementById(coloredObject).style.color = theTextColor;
        }
        // ! The snackbar currently glitches out when a snackbar is called while one is already on the screen
        async function displaySnackbar(snackTime, snackMessage) {
            document.getElementById("snackbar").innerHTML = snackMessage;
            document.getElementById("snackbar").className = "show";
            await sleep(snackTime);
            document.getElementById("snackbar").className = "hide";
        }
        let clickawardlevel = 1;
        let clicklevelreq = 100;
        // TODO: Try and optimize this code block, it relies on if chains too much and is not well optimized
        function checkClickLevel() {
            if (clickawardlevel === 1) {
                if (clickcount >= 100) {
                    clickawardlevel = 2;
                    clicklevelreq = 1000;
                    document.getElementById("clickerawardtitle").innerHTML = "Clicker: Level 1";
                    document.getElementById("clickerawardtext").innerHTML = "Click 1000 times";
                }
            }
            if (clickawardlevel === 2) {
                if (clickcount >= 1000) {
                    clickawardlevel = 3;
                    clicklevelreq = 10000;
                    document.getElementById("clickerawardtitle").innerHTML = "Clicker: Level 2";
                    document.getElementById("clickerawardtext").innerHTML = "Click 10000 times";
                }
            }
        }
        let buildawardlevel = 0;
        let buildawardlevelreq = 1;
        // TODO: Try and optimize this code block, it relies on if chains too much and is not well optimized
        function checkBuildLevel() {
            if (buildawardlevel === 0) {
                if (sps >= 1) {
                    buildawardlevel = 1;
                    buildawardlevelreq = 10;
                    document.getElementById("factoryawardtitle").innerHTML = `Builder: Level ${buildawardlevel}`
                    document.getElementById("factoryawardtext").innerHTML = `Reach ${buildawardlevelreq} bytes per second`;
                }
            }
            if (buildawardlevel === 1) {
                if (sps >= 10) {
                    buildawardlevel = 2;
                    buildawardlevelreq = 100;
                    document.getElementById("factoryawardtitle").innerHTML = `Builder: Level ${buildawardlevel}`
                    document.getElementById("factoryawardtext").innerHTML = `Reach ${buildawardlevelreq} bytes per second`;
                }
            }
            if (buildawardlevel === 2) {
                if (sps >= 100) {
                    buildawardlevel = 2;
                    buildawardlevelreq = 1000;
                    document.getElementById("factoryawardtitle").innerHTML = `Builder: Level ${buildawardlevel}`
                    document.getElementById("factoryawardtext").innerHTML = `Reach ${buildawardlevelreq} bytes per second`;
                }
            }
        }
        function toggleVariable(varToToggle, elementToColor, color1, color2, textcolor1, textcolor2, text1, text2) {
            if (varToToggle === 0) {
                // When enabled (all 1 objects)
                changeObjectColor(elementToColor, color1, textcolor1);
                document.getElementById(elementToColor).innerHTML = text1;
                return 1;
            }
            else {
                // When disabled (all 2 objects)
                changeObjectColor(elementToColor, color2, textcolor2);
                document.getElementById(elementToColor).innerHTML = text2;
                return 0;
            }
        }
        // Adds file size to the score. Use this instead of directly adding onto the variable
        function addFileSize(addingVariable) {
            const addedsize = size + addingVariable;
            if (addedsize >= 256000000000000) {
                size = 256000000000000;
            }
            else {
                size = size + addingVariable;
            }
        }
        // Used to create a typing effect
        async function typingEffect(typingText, typingSpeed, typingElement) {
            let i = 0;
            while (i < typingText.length) {
                document.getElementById(typingElement).innerHTML += typingText.charAt(i);
                i++;
                await sleep(typingSpeed);
            }
        }
        // Gives you points every second
        async function secondlyPoints() {
            const throwaway1 = -10;
            const throwaway2 = 10;
            while (throwaway1 < throwaway2) {
                const tempsps = sps / 50;
                addFileSize(tempsps);
                refreshAll();
                await sleep(20);
            }
        }
        // Gives you extra size per second if you have anything giving you an upgrade
        async function giveSpsBonus() {
            const throwaway1 = -10;
            const throwaway2 = 10;
            while (throwaway1 < throwaway2) {
                sps = sps + extraspsps;
                playedseconds++;
                refreshAll();
                await sleep(1000);
            }
        }
        let upgradesbought = 0;
        let autoupgradesbought = 0;
        let clickupgradesbought = 0;
        let spentonupgrades = 0;
        let spentonautoupgrades = 0;
        let spentonclickupgrades = 0;
        // Base for upgrades that automatically give you points
        function autoUpgrade(upincrease, sizevar) {
            sps = sps + upincrease;
            size = size - sizevar;
            spentonupgrades = spentonupgrades + sizevar;
            spentonautoupgrades = spentonautoupgrades + sizevar;
            newcost = sizevar * 1.15;
            newcost = Math.round(newcost);
            upgradesbought++;
            autoupgradesbought++;
            return newcost;
        }
        // Base for upgrades that give you more points every time you click
        function clickUpgrade(upincrease, sizevar) {
            spc = spc + upincrease;
            size = size - sizevar;
            spentonupgrades = spentonupgrades + sizevar;
            spentonclickupgrades = spentonclickupgrades + sizevar;
            newcost = sizevar * 1.15;
            newcost = Math.round(newcost);
            upgradesbought++;
            clickupgradesbought++;
            return newcost;
        }
        // Base for upgrades that are of other types
        function specialUpgrade(cost, req, reqvar, varToIncrease, increaseValue, elementIden) {
            if (reqvar >= req) {
                if (size >= cost) {
                    size = size - cost;
                    refreshAll();
                    upgradesbought++;
                    spentonupgrades = spentonupgrades + cost;
                    document.getElementById(elementIden).style.display = "none";
                    return varToIncrease + increaseValue;
                }
            }
        }
        // Automatic upgrades
        let spscost = 15;
        function upgradeSPS() {
            if (size >= spscost) {
                spscost = autoUpgrade(1, spscost);
                roundSizeDisp(spscost, 'n', 1);
                document.getElementById("keypresser").innerHTML = "Keypresser (" + newdisp + ", +1 byte per second)";
                document.getElementById("catbuy").style.display = "inline";
                refreshAll();
            }
        }
        let catcost = 150;
        function buyCat() {
            if (size >= catcost) {
                catcost = autoUpgrade(5, catcost);
                roundSizeDisp(catcost, 'n', 1);
                document.getElementById("catbuy").innerHTML = "Cat (" + newdisp + ", +5 bytes per second)";
                document.getElementById("holdbuy").style.display = "inline";
                refreshAll();
            }
        }
        let holdcost = 1000;
        function buyHold() {
            if (size >= holdcost) {
                holdcost = autoUpgrade(30, holdcost);
                roundSizeDisp(holdcost, 'n', 1);
                document.getElementById("holdbuy").innerHTML = "Key Holder (" + newdisp + ", +30 bytes per second)";
                document.getElementById("macrobuy").style.display = "inline";
                refreshAll();
            }
        }
        let macrocost = 50000;
        function buyWordMacro() {
            if (size >= macrocost) {
                macrocost = autoUpgrade(250, macrocost);
                roundSizeDisp(newcost, 'n', 1);
                document.getElementById("macrobuy").innerHTML = "Word Macro (" + newdisp +", +250 bytes per second)";
                document.getElementById("collabuy").style.display = "inline";
                refreshAll();
            }
        }
        let colabcost = 1000000;
        function buyCollab() {
            if (size >= colabcost) {
                colabcost = autoUpgrade(5000, colabcost);
                roundSizeDisp(newcost, 'n', 1);
                document.getElementById("collabuy").innerHTML = "Collab Document (" + newdisp + ", +5 KB per second)";
                refreshAll();
            }
        }
        // Clicking upgrades
        let fingercost = 500;
        function buyFinger() {
            if (size >= fingercost) {
                fingercost = clickUpgrade(1, fingercost);
                roundSizeDisp(fingercost, 'n', 1);
                document.getElementById("fingerpurchase").innerHTML = "Extra Finger (" + newdisp + ", +1 byte per click)";
                document.getElementById("keyboardpurchase").style.display = "inline";
                refreshAll();
            }
        }
        let keycost = 10000;
        function buyKeyboard() {
            if (size >= keycost) {
                keycost = clickUpgrade(40, keycost);
                roundSizeDisp(keycost, 'n', 1);
                document.getElementById("keyboardpurchase").innerHTML = `Extra Keyboard (${newdisp}, +40 bytes per click)`;
                document.getElementById("macrobutpurchase").style.display = "inline";
                refreshAll();
            }
        }
        let macrobuttoncost = 150000;
        function buyMacroButton() {
            if (size >= macrobuttoncost) {
                macrobuttoncost = clickUpgrade(500, macrobuttoncost);
                roundSizeDisp(macrobuttoncost, 'n', 1);
                document.getElementById("macrobutpurchase").innerHTML = `Macro Button (${newdisp}, +500 bytes per click)`;
                document.getElementById("copypastepurchase").style.display = "inline";
                refreshAll();
            }
        }
        let copypastecost = 30000000;
        function buyCopyPaste() {
            if (size >= copypastecost) {
                copypastecost = clickUpgrade(10000, copypastecost);
                roundSizeDisp(copypastecost, 'n', 1);
                document.getElementById("copypastepurchase").innerHTML = `Copy Paste (${newdisp}, +10 KB per click)`;
                refreshAll();
            }
        }
        // Other upgrades
        function buyBadAi() {
            extraspsps = specialUpgrade(10000000, 600, playedseconds, extraspsps, 1, "aiupgradediv");
        }
        function buySelfSustainedMachine() {
            clickbonus = specialUpgrade(10000000, 1500, clickcount, clickbonus, 1, "selfsusmach");
        }
        function buyPlasticCursor() {
            clickbonus = specialUpgrade(1000000, 1000, sps, clickbonus, 0.01, "plasticursor");
        }
        // If there is no special variable use 'n' for the specialReq and specialVar
        function buttonColor(objectId, varnumber, specialReq, specialVar) {
            if (specialReq === 'n') {
                if (size >= varnumber) {
                    changeObjectColor(objectId, "greenyellow", "black");
                }
                else {
                    changeObjectColor(objectId, "red", "black");
                }
            }
            else {
                if (specialVar >= specialReq) {
                    if (size >= varnumber) {
                        changeObjectColor(objectId, "greenyellow", "black");
                    }
                    else {
                        changeObjectColor(objectId, "red", "black");
                    }
                }
                else {
                    if (isDarkModeEnabled === 0) {
                        changeObjectColor(objectId, "black", "white");
                    }
                    else {
                        changeObjectColor(objectId, "white", "black");
                    }
                }
            }
        }
        async function updateButtons() {
            // Changes the color of the buttons to green if you can afford to buy something
            const throwaway1 = -10;
            const throwaway2 = 10;
            while (throwaway1 < throwaway2) {
                buttonColor("keypresser", spscost, 'n', 'n');
                buttonColor("catbuy", catcost, 'n', 'n');
                buttonColor("holdbuy", holdcost, 'n', 'n');
                buttonColor("fingerpurchase", fingercost, 'n', 'n');
                buttonColor("aiupgradebutton", 10000000, 600, playedseconds);
                buttonColor("selfsusmachine", 10000000, 1500, clickcount);
                buttonColor("keyboardpurchase", keycost, 'n', 'n');
                buttonColor("purchaseplasticursor", 1000000, 1000, sps);
                buttonColor("macrobuy", macrocost, 'n', 'n');
                buttonColor("collabuy", colabcost, 'n', 'n');
                buttonColor("macrobutpurchase", macrobuttoncost, 'n', 'n');
                buttonColor("copypastepurchase", copypastecost, 'n', 'n');
                await sleep(100);
            }
        }
        let sizefromclicking = 0;
        // Used whenever the "type" button is clicked
        function oneByte() {
            const tempaddclicks = sps * clicksbonus;
            addedclicks = spc + tempaddclicks;
            addFileSize(addedclicks);
            sps = sps + clickbonus;
            sizefromclicking = sizefromclicking + addedclicks;
            clickcount++;
            checkClickLevel();
            refreshAll();
        }
        // Sets a cookie
        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            var expires = "expires=" + d.toGMTString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/;Secure";
        }
        // Gets a cookie
        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
        let seencookies = 0;
        // Used to save the game to the browsers cookies
        function saveGame() {
            setCookie("sizec", size, 2000);
            setCookie("spsaved", sps, 2000);
            setCookie("extraspspersecond", extraspsps, 2000);
            setCookie("clickbonusaved", clickbonus, 2000);
            setCookie("sizeperclicksaved", spc, 2000);
            setCookie("clickcountsaved", clickcount, 2000);
            setCookie("playedsecondsaved", playedseconds, 2000);
            setCookie("clicksbonusaved", clicksbonus, 2000);
            setCookie("addedclicksaved", addedclicks, 2000);
            setCookie("spscostsaved", spscost, 2000);
            setCookie("catcostsaved", catcost, 2000);
            setCookie("holdcostsaved", holdcost, 2000);
            setCookie("macrocostsaved", macrocost, 2000);
            setCookie("fingercostsaved", fingercost, 2000);
            setCookie("keycostsaved", keycost, 2000);
            setCookie("collabcostsaved", colabcost, 2000);
            setCookie("macrobutcostsaved", macrobuttoncost, 2000);
            setCookie("upsboughtsaved", upgradesbought, 2000);
            setCookie("autoupsaved", autoupgradesbought, 2000);
            setCookie("clicksboughtsaved", clickupgradesbought, 2000);
            setCookie("spentupsaved", spentonupgrades, 2000);
            setCookie("spentautosaved", spentonautoupgrades, 2000);
            setCookie("spentclicksaved", spentonclickupgrades, 2000);
            setCookie("copypastecostsaved", copypastecost, 2000);
            displaySnackbar(3000, 'Game data saved!');
        }
        // Loads a varaible from the cookies and then converts it to a number. Sets the variable to 0 if there is nothing there.
        function loadCvar(cookieLoad) {
            const loadedcount = getCookie(cookieLoad);
            if (loadedcount != "") {
                return Number(loadedcount);
            }
            else {
                return 0;
            }
        }
        // Used to load the game from the browsers cookies
        function loadGame() {
            size = loadCvar("sizec");
            sps = loadCvar("spsaved");
            extraspsps = loadCvar("extraspspersecond");
            clickbonus = loadCvar("clickbonusaved");
            spc = loadCvar("sizeperclicksaved");
            clickcount = loadCvar("clickcountsaved");
            playedseconds = loadCvar("playedsecondsaved");
            clicksbonus = loadCvar("clicksbonusaved");
            addedclicks = loadCvar("addedclicksaved");
            spscost = loadCvar("spscostsaved");
            catcost = loadCvar("catcostsaved");
            holdcost = loadCvar("holdcostsaved");
            macrocost = loadCvar("macrocostsaved");
            fingercost = loadCvar("fingercostsaved");
            keycost = loadCvar("keycostsaved");
            seencookies = loadCvar("seencookiesaved");
            colabcost = loadCvar("collabcostsaved");
            macrobuttoncost = loadCvar("macrobutcostsaved");
            upgradesbought = loadCvar("upsboughtsaved");
            autoupgradesbought = loadCvar("autoupsaved");
            clickupgradesbought = loadCvar("clicksboughtsaved");
            spentonupgrades = loadCvar("spentupsaved");
            spentonautoupgrades = loadCvar("spentautosaved");
            spentonclickupgrades = loadCvar("spentclicksaved");
            copypastecost = loadCvar("copypastecostsaved");
            refreshAll();
            displaySnackbar(3000, 'Game data loaded!');
        }
        let isDarkModeEnabled = 0;
        // Used to toggle the dark theme option
        function toggleDarkMode() {
            var entiredocument = document.body;
            entiredocument.classList.toggle("dark-mode");
            if (isDarkModeEnabled === 0) {
                isDarkModeEnabled = 1;
                changeObjectColor("darkmodebutton", "white", "black");
                document.getElementById("darkmodebutton").innerHTML = "Disable Dark Mode";
                changeObjectColor("snackbar", "white", "black");
                displaySnackbar(3000, "Dark mode enabled!");
            }
            else {
                isDarkModeEnabled = 0;
                changeObjectColor("darkmodebutton", "black", "white");
                document.getElementById("darkmodebutton").innerHTML = "Enable Dark Mode";
                changeObjectColor("snackbar", "black", "white");
                displaySnackbar(3000, "Dark mode disabled!");
            }
        }
        // Updates the title of the page to display a rounded byte count every second
        async function updatePageTitleOnStart() {
            const throwaway1 = -10;
            const throwaway2 = 10;
            while (throwaway1 < throwaway2) {
                await sleep(1000);
                roundSizeDisp(size, "title", 0);
            }
        }
        // Opens a page from the navigation
        function openPage(pageName) {
            var i, tabcontent;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            document.getElementById(pageName).style.display = "block";
        }
        function modeToggle(modeToToggle) {
            if (modeToToggle === 'roundmaindisp') {
                doRoundDisplay = toggleVariable(doRoundDisplay, 'doroundisplay', 'greenyellow', 'red', 'black', 'black', 'Disable Score Rounding', 'Enable score rounding');
            }
            else if (modeToToggle === 'roundbpsdisp') {
                doRoundBPSDisplay = toggleVariable(doRoundBPSDisplay, 'doroundbytespersec', 'greenyellow', 'red', 'black', 'black', 'Disable BPS Rounding', 'Enable BPS Rounding');
            }
        }
        let hoursplayed = 0;
        let hoursplayedremainder = 0;
        let minutesplayed = 0;
        let minutesplayedremainder = 0;
        // Turns a seconds count into an hour variable, a minute variable, and a seconds variable
        function roundTimeDisplay(timeVariable) {
            if (timeVariable >= 3600) {
                hoursplayed = timeVariable / 3600;
                hoursplayed = Math.floor(hoursplayed);
                hoursplayedremainder = timeVariable % 3600;
            }
            else {
                hoursplayed = 0;
                hoursplayedremainder = timeVariable;
            }
            if (hoursplayedremainder >= 60) {
                minutesplayed = hoursplayedremainder / 60;
                minutesplayed = Math.floor(minutesplayed);
                minutesplayedremainder = hoursplayedremainder % 60;
            }
            else {
                minutesplayed = 0;
                minutesplayedremainder = hoursplayedremainder;
            }
        }
        // Updates the statistics page and then opens it
        function openStatsPage() {
            roundTimeDisplay(playedseconds);
            document.getElementById("timeplayedcounter").innerHTML = `Time played: ${hoursplayed} hours ${minutesplayed} minutes and ${minutesplayedremainder} seconds`;
            document.getElementById("clickcountstat").innerHTML = `Total clicks: ${clickcount}`;
            if (spc === 1) {
                document.getElementById("sizeperclickstat").innerHTML = `Size per click: ${spc} byte`;
            }
            else {
                document.getElementById("sizeperclickstat").innerHTML = `Size per click: ${spc} bytes`;
            }
            roundSizeDisp(sizefromclicking, 'n', 1);
            const newsizefromclicks = addCommasToNumber(sizefromclicking);
            document.getElementById("sizefromclicking").innerHTML = `Size from clicking: ${newdisp}`;
            document.getElementById("sizefromclicking").title = newsizefromclicks;
            document.getElementById("upgradesboughtcount").innerHTML = `Upgrades bought: ${upgradesbought}`;
            document.getElementById("autoupgradesboughtcount").innerHTML = `Automatic upgrades bought: ${autoupgradesbought}`;
            document.getElementById("clickingupgradesboughtcount").innerHTML = `Clicking upgrades bought: ${clickupgradesbought}`;
            roundSizeDisp(spentonupgrades, 'n', 1);
            const newspentonups = addCommasToNumber(spentonupgrades);
            document.getElementById("spentonupscount").innerHTML = `Spent on upgrades: ${newdisp}`;
            document.getElementById("spentonupscount").title = newspentonups;
            roundSizeDisp(spentonautoupgrades, 'n', 1);
            const newspentonautoups = addCommasToNumber(spentonautoupgrades);
            document.getElementById("spentonautoupscount").innerHTML = `Spent on automatic upgrades: ${newdisp}`;
            document.getElementById("spentonautoupscount").title = newspentonautoups;
            roundSizeDisp(spentonclickupgrades, 'n', 1);
            const newspentonclickups = addCommasToNumber(spentonclickupgrades);
            document.getElementById("spentonclickupscount").innerHTML = `Spent on click upgrades: ${newdisp}`;
            document.getElementById("spentonclickupscount").title = newspentonclickups;
            // Used for creating the progress bars that are seen on the awards page
            progressBar("clickrewardbar", clickcount, clicklevelreq);
            progressBar("factoryawardbar", sps, buildawardlevelreq);
            openPage("statistics");
        }
        // Changes the favicon, and allows you to set a wait period
        async function editFaviconAndWait(newFavicon, waitTime) {
            var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
            link.type = 'image/x-icon';
            link.rel = 'shortcut icon';
            link.href = newFavicon;
            document.getElementsByTagName('head')[0].appendChild(link);
            await sleep(waitTime);
        }
        // Gives the favicon a blinking effect
        async function faviconBlink() {
            const throwaway1 = -10;
            const throwaway2 = 10;
            while (throwaway1 < throwaway2) {
                await sleep(5000);
                await editFaviconAndWait('https://cdn.discordapp.com/attachments/611631252251869333/779834772226310164/favicon1.ico', 100);
                await editFaviconAndWait('https://cdn.discordapp.com/attachments/611631252251869333/779834772137836574/favicon2.ico', 100);
                await editFaviconAndWait('https://cdn.discordapp.com/attachments/611631252251869333/779834774125674526/favicon3.ico', 100);
                await editFaviconAndWait('https://cdn.discordapp.com/attachments/611631252251869333/779834772137836574/favicon2.ico', 100);
                await editFaviconAndWait('https://cdn.discordapp.com/attachments/611631252251869333/779834772226310164/favicon1.ico', 100);
            }
        }
        let monospacenabled = 0;
        // Toggles the monospace font
        function toggleMonospaceFont() {
            monospacenabled = toggleVariable(monospacenabled, "iscoremonospaced", "greenyellow", "red", "black", "black", "Disable Monospaced Font", "Enable Monospaced Font");
            if (monospacenabled === 1) {
                document.getElementById("score").style.fontFamily = "'Ubuntu Mono', monospace";
                displaySnackbar(3000, "Monospaced font enabled!");
            }
            else {
                document.getElementById("score").style.fontFamily = "'Arvo', serif";
                displaySnackbar(3000, "Monospaced font disabled!");
            }
        }
        // Gives the tutorial a typing effect
        async function welcomeTypingEffect() {
            document.getElementById("welcometext").innerHTML = "";
            document.getElementById("clickonbuttontext").innerHTML = "";
            document.getElementById("howtospendtext").innerHTML = "";
            document.getElementById("viewupgradestext").innerHTML = "";
            document.getElementById("changesettingstext").innerHTML = "";
            document.getElementById("viewtutorialagaintext").innerHTML = "";
            document.getElementById("havefuntext").innerHTML = "";
            await typingEffect("Welcome to Idle File!", 50, "welcometext");
            await typingEffect("Click on the large \"Type\" button to get bytes.", 10, "clickonbuttontext");
            await typingEffect("You can spend your bytes on different upgrades to help you earn bytes faster.", 10, "howtospendtext");
            await typingEffect("You can view different upgrade types by using the menus.", 10, "viewupgradestext");
            await typingEffect("Change your settings in the settings menu to customize your experience.", 10, 
            "changesettingstext");
            await typingEffect("You can view this tutorial again from the settings menu.", 10, "viewtutorialagaintext");
            await typingEffect("Have fun playing!", 25, "havefuntext");
        }
        // Used to close the pop-up warning about cookies, as well as prevents it from showing again
        function closeCookiesPopup() {
            document.getElementById("cookiespopup").style.visibility = "hidden";
            setCookie("seencookiesaved", 1, 2000);
        }
        // Checks to see if the cookies pop-up has already been shown before
        function loadCookiesPopup() {
            seencookies = loadCvar("seencookiesaved");
            if (seencookies === 1) {
                // If the cookies pop-up has already been shown, don't show it
                document.getElementById("cookiespopup").style.visibility = "hidden";
            }
            else {
                // If the cookies pop-up has not been shown yet, show it
                document.getElementById("cookiespopup").style.visibility = "visible";
            }
        }
        // Calculates a percentage
        function percentCalc(number1, number2) {
            let tempequation = number1 / number2;
            tempequation = tempequation * 100;
            return Math.round(tempequation);
        }
        // Makes a progress bar
        function progressBar(cardElementId, number1, number2) {
            var elem = document.getElementById(cardElementId);
            var width = percentCalc(number1, number2);
            if (width >= 100) {
                elem.style.width = "100%";
            } else {
                elem.style.width = width + "%";
            }
        }
        // Opens the mobile navigation menu
        function openMobileNavigation() {
            document.getElementById("mobilenavdropdown").classList.toggle("show");
        }
        // Hide the mobile navigation menu when an object is selected or when it is clicked off of
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
        // Shows the bar at the top of the screen when scrolled
        window.onscroll = function() {scrollFunction()};
        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("topbar").style.top = "0";
            }
            else {
                document.getElementById("topbar").style.top = "-50px";
            }
        }
        // Commands to be run when the document is run
        secondlyPoints();
        updateButtons();
        giveSpsBonus();
        updatePageTitleOnStart();
        faviconBlink();
        welcomeTypingEffect();
        loadCookiesPopup();
        // Shows the tutorial when the game is started
        document.getElementById("defaultOpen").click();
    </script>
</body>
</html>